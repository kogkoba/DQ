<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ドラクエ風クイズRPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS は外部ファイルに分割しておくと管理しやすい -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- ローディングオーバーレイ -->
  <div id="loadingOverlay">Loading…</div>

  <!-- ログイン画面 -->
  <div id="loginScreen">
    <h2>プレイヤー名を入力してください</h2>
    <input type="text" id="playerNameInput" placeholder="名前を入力">
    <button id="loginButton">ログイン</button>
  </div>

  <!-- タイトル画面 -->
  <div id="titleScreen">
    <h1>ドラクエ風クイズRPG</h1>
    <button id="startButton">▶ ゲームスタート</button>
  </div>

  <!-- ゲーム画面 -->
  <div id="gameContainer">
    <!-- ステータス表示 -->
    <div id="status">
      プレイヤーのHP: <span id="hp">100</span> / レベル: <span id="level">1</span>
      <div id="bgmToggleContainer">
        <button id="bgmToggleButton">🔇 BGM OFF</button>
      </div>
    </div>
    
    <!-- フィールド画面 -->
    <div id="gameArea">
      <img id="player" src="https://lh3.googleusercontent.com/d/1peHOi70oOmL8c9v3OQydE5N-9R0PB6vh" alt="hero">
      <div id="dpad">
        <div class="dpad-button up"></div>
        <div class="dpad-button left"></div>
        <div class="dpad-button center"></div>
        <div class="dpad-button right"></div>
        <div class="dpad-button down"></div>
      </div>
      <div id="transition-overlay">
        <div id="transition-circle"></div>
      </div>
    </div>
    
    <!-- 戦闘画面 -->
    <div id="battle-screen">
      <div id="top-text-box">mamがあらわれた！</div>
      <div id="quiz-hp-container">
        HP: <span id="quiz-hp">100</span>
      </div>
      <div id="enemy-container"></div>
      <img id="quiz-image" src="">
      <div id="quiz-area">
        <div id="choice-area"></div>
      </div>
      <div id="hearts-container"></div>
      <button id="zaorikuButton">ザオリク</button>
    </div>
    
    <!-- HP回復ボタン -->
    <button id="healButton">💖 回復する (+10 HP)</button>
  </div>

  <!-- オーディオやGoogle APIなどの外部リソース -->
  <audio id="fieldBGM" loop preload="auto">
    <source src="./kouyawoiku.mp3" type="audio/mpeg">
  </audio>
  <audio id="battleBGM" loop preload="auto">
    <source src="./jypdance.mp3" type="audio/mpeg">
  </audio>
  <audio id="quizBGM" loop preload="auto">
    <source src="./jypdance.mp3" type="audio/mpeg">
  </audio>
  <audio id="dqDownAudio" preload="auto">
    <source src="./DQ down long.mp3" type="audio/mpeg">
  </audio>

  <!-- Google API -->
  <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()" onerror="console.error('❌ Google APIの読み込みに失敗しました');"></script>

  <!-- メインスクリプトの読み込み -->
  <script src="js/main.js"></script>
</body>
</html>
